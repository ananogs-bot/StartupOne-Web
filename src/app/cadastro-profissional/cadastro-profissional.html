<div class="cadastro-page d-flex">
  <!-- Lado esquerdo: Formulário -->
  <div class="form-container p-5 d-flex flex-column justify-content-center" style="flex: 1; background-color: #F5F5F5;">
    <h2 class="mb-4">Cadastro Profissional</h2>
    <form #profissionalForm="ngForm" (ngSubmit)="cadastrarProfissional(profissionalForm)" novalidate>

      <div class="mb-3">
        <label>Nome</label>
        <input [(ngModel)]="nome" name="nome" class="form-control" required #nomeInput="ngModel">
        <div class="text-danger" *ngIf="nomeInput.invalid && nomeInput.touched">
          O nome é obrigatório.
        </div>
      </div>

      <div class="mb-3">
        <label>Email</label>
        <input [(ngModel)]="email" type="email" name="email" class="form-control" required #emailInput="ngModel">
        <div class="text-danger" *ngIf="emailInput.invalid && emailInput.touched">
          Digite um email válido.
        </div>
      </div>

      <div class="mb-3">
        <label>Senha</label>
        <input [(ngModel)]="senha" type="password" name="senha" class="form-control" required #senhaInput="ngModel">
        <div class="text-danger" *ngIf="senhaInput.invalid && senhaInput.touched">
          A senha é obrigatória.
        </div>
      </div>

      <div class="mb-3">
        <label>Telefone</label>
        <input [(ngModel)]="telefone" type="tel" name="telefone" class="form-control" required #telefoneInput="ngModel">
        <div class="text-danger" *ngIf="telefoneInput.invalid && telefoneInput.touched">
          O telefone é obrigatório.
        </div>
      </div>

      <div class="mb-3">
        <label>CNPJ</label>
        <input [(ngModel)]="cnpj" type="text" name="cnpj" class="form-control" required #cnpjInput="ngModel">
        <div class="text-danger" *ngIf="cnpjInput.invalid && cnpjInput.touched">
          O CNPJ é obrigatório.
        </div>
      </div>

      <div class="mb-3">
        <label>CEP</label>
        <input [(ngModel)]="cep" name="cep" type="text" class="form-control" placeholder="00000-000"
          (blur)="buscarEndereco()">
      </div>

      <div class="mb-3">
        <label>Número</label>
        <input [(ngModel)]="numero" name="numero" type="text" class="form-control" placeholder="123">
      </div>

      <div class="mb-3">
        <label>Endereço</label>
        <input [(ngModel)]="endereco" type="text" name="endereco" class="form-control"
          placeholder="Rua, bairro, cidade..." readonly>
      </div>



      <div class="mb-3">
        <label>Descrição</label>
        <textarea [(ngModel)]="descricao" name="descricao" class="form-control" required
          #descricaoInput="ngModel"></textarea>
        <div class="text-danger" *ngIf="descricaoInput.invalid && descricaoInput.touched">
          A descrição é obrigatória.
        </div>
      </div>

      <div class="mb-3">
        <label>URL da Imagem</label>
        <input [(ngModel)]="imagem" name="imagem" type="text" class="form-control"
          placeholder="Cole a URL da imagem aqui">
      </div>

      <div class="mb-3">
        <label>Categorias</label>
        <div *ngFor="let cat of categorias">
          <label class="d-block">
            <input type="checkbox" [checked]="categoriasSelecionadas.includes(cat.categoria_id)"
              (change)="toggleCategoria(cat.categoria_id, $event)">
            {{ cat.categoria_nome }}
          </label>
        </div>
      </div>

      <button type="submit" class="btn btn-primary mt-3" [disabled]="profissionalForm.invalid">Cadastrar</button>

      <div class="mt-3">
        <a routerLink="/home" class="me-3">Voltar</a>
        <a routerLink="/login">Já tem conta? Login</a>
      </div>
    </form>
  </div>

  <!-- Lado direito: Imagem -->
  <div class="image-container"
    style="flex: 1; background-image: url('./assets/fundoCadastro.jpg'); background-size: cover; background-position: center;">
    <div style="background-color: rgba(0,0,0,0.3); width: 100%; height: 100%;"></div>
  </div>
</div>

<footer class="bg-dark text-white text-center py-3">
  &copy; 2025 AGID PASS. Todos os direitos reservados.
</footer>
